{"version":3,"file":"js/184.7254f148.js","mappings":"qLAIO,IAAIA,EAAQ,CACfC,MAAO,CACHC,QAAS,QACTC,KAAMC,QAEVC,SAAU,CACNH,QAAS,CACLI,UAAW,QAEfH,KAAM,CAACI,OAAQC,QAEnBC,OAAQ,CACJN,KAAMC,OACNF,QAAQ,QAEZQ,OAAQ,CACJP,KAAM,CAACI,OAAQC,OACfN,QAAS,CACLS,MAAO,CAAC,YAMTC,EAASZ,IAEhB,IAAI,MAAEC,EAAK,SAAEI,EAAQ,OAAEK,EAAM,OAAED,GAAWT,EAEtCa,EAAOC,UACPC,EAAWC,SAAU,EACrBD,EAAWE,QAAS,EACpB,IACI,IAAIC,EAAKC,EAAAA,EAAAA,KAAclB,GAAOmB,KAAKf,GAAUI,GAC7C,GAAe,mBAALS,EACN,MAAM,IAAIG,MAAM,8BAEpBN,EAAWO,cAAgBJ,EAAGR,E,CAChC,MAAMa,GACJR,EAAWE,OAASM,C,CAExBR,EAAWC,SAAU,CAAK,EAG1BD,GAA+BS,EAAAA,EAAAA,UAAU,CACzCF,QAAS,KACTN,SAAS,EACTC,QAAQ,EACRJ,SAGJ,OAAOE,CAAU,C,qBClDrBU,EAAQ,EAAU,CAACC,EAAK1B,KACpB,MAAM2B,EAASD,EAAIE,WAAaF,EAChC,IAAK,MAAOG,EAAKC,KAAQ9B,EACrB2B,EAAOE,GAAOC,EAElB,OAAOH,CAAM,C,iFCPX,SAAUI,EAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAOC,EAAAA,EAAAA,YAAYN,EAAKO,OAAQ,WAAWC,EAAAA,EAAAA,iBAAgBC,EAAAA,EAAAA,oBAAoBT,EAAKjB,aACtF,C,cCFA,GACIf,MAAK,IACLY,MAAQZ,IACJ,IAAIe,GAAaH,EAAAA,EAAAA,GAAMZ,GAEvB,OADAe,EAAWF,OACJ,CACHE,aACH,G,UCJT,MAAM2B,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASX,KAEpE,O","sources":["webpack://test/./src/pockets/connection/component/base.ts","webpack://test/./node_modules/vue-loader/dist/exportHelper.js","webpack://test/./src/pockets/connection/component/wrapper.vue?9cf7","webpack://test/./src/pockets/connection/component/wrapper.vue?1bc3","webpack://test/./src/pockets/connection/component/wrapper.vue"],"sourcesContent":["import type { crudConnection, crudConnectionApi } from \"@/pockets/connection/types\"\r\nimport { reactive, PropType } from 'vue'\r\nimport { $pockets } from \"@/pockets\"\r\n\r\nexport let props = {\r\n    model: {\r\n        default: \"posts\",\r\n        type: String as PropType<crudConnection['model']>\r\n    },\r\n    resource: {\r\n        default: {\r\n            post_type: \"post\"\r\n        },\r\n        type: [Object, Array] as PropType<crudConnection['resource']>\r\n    },\r\n    action: {\r\n        type: String as PropType<crudConnection['action']>,\r\n        default:\"read\"\r\n    },\r\n    fields: {\r\n        type: [Object, Array] as PropType<crudConnection['fields']>,\r\n        default: {\r\n            items: ['title']\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport let setup = (props: crudConnection) => {\r\n\r\n    let { model, resource, fields, action } = props\r\n\r\n    let load = async() => {\r\n        connection.loading = true\r\n        connection.failed = false\r\n        try {\r\n            let fn = $pockets.crud(model).init(resource)[action]\r\n            if(typeof fn !='function') {\r\n                throw new Error(\"Must define a valid action\")\r\n            }\r\n            connection.results = await fn(fields) \r\n        } catch(e) {\r\n            connection.failed = e\r\n        }\r\n        connection.loading = false\r\n    }\r\n    \r\n    let connection:crudConnectionApi = reactive( {\r\n        results: null,\r\n        loading: false,\r\n        failed: false,\r\n        load\r\n    } ) \r\n\r\n    return connection\r\n\r\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","import { normalizeProps as _normalizeProps, guardReactiveProps as _guardReactiveProps, renderSlot as _renderSlot } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return _renderSlot(_ctx.$slots, \"default\", _normalizeProps(_guardReactiveProps(_ctx.connection)))\n}","\r\nimport { props, setup } from \"./base\"\r\nexport default {\r\n    props,\r\n    setup: (props) => {\r\n        let connection = setup(props)\r\n        connection.load()\r\n        return {\r\n            connection\r\n        }\r\n    }\r\n}\r\n","import { render } from \"./wrapper.vue?vue&type=template&id=3cd098c8&ts=true\"\nimport script from \"./wrapper.vue?vue&type=script&lang=ts\"\nexport * from \"./wrapper.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"C:\\\\Users\\\\Justin\\\\Documents\\\\Workspace\\\\xampp\\\\apps\\\\pockets\\\\htdocs\\\\wp-content\\\\plugins\\\\pockets\\\\vue\\\\dev\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["props","model","default","type","String","resource","post_type","Object","Array","action","fields","items","setup","load","async","connection","loading","failed","fn","$pockets","init","Error","results","e","reactive","exports","sfc","target","__vccOpts","key","val","render","_ctx","_cache","$props","$setup","$data","$options","_renderSlot","$slots","_normalizeProps","_guardReactiveProps","__exports__"],"sourceRoot":""}