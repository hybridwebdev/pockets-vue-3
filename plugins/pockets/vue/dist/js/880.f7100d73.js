"use strict";(self["webpackChunktest"]=self["webpackChunktest"]||[]).push([[880],{3225:function(e,t,l){l.d(t,{N:function(){return c},c:function(){return o}});var a=l(821),n=l(4636);let c={model:{default:"posts",type:String},resource:{default:{post_type:"post"},type:[Object,Array]},action:{type:String,default:"read"},fields:{type:[Object,Array],default:{items:["title"]}}},o=e=>{let{model:t,resource:l,fields:c,action:o}=e,s=async()=>{r.loading=!0,r.failed=!1;try{let e=n.F.crud(t).init(l)[o];if("function"!=typeof e)throw new Error("Must define a valid action");r.results=await e(c)}catch(e){r.failed=e}r.loading=!1},r=(0,a.reactive)({results:null,loading:!1,failed:!1,load:s});return r}},3744:function(e,t){t.Z=(e,t)=>{const l=e.__vccOpts||e;for(const[a,n]of t)l[a]=n;return l}},4880:function(e,t,l){l.r(t),l.d(t,{default:function(){return g}});var a=l(821);const n={key:0,class:"grid columns-5 gap-1"},c=["onClick"],o=["src"],s={key:0,class:"fa fa-check selected-icon position-absolute end-0 bottom-0 icon bg-accent-dk text-white"},r=(0,a.createStaticVNode)('<div class="d-flex mt-1" data-v-6fe9f18e><div class="grid gap-1 columns-3" data-v-6fe9f18e><button class="fa fa-chevron-left" data-v-6fe9f18e></button></div><div class="grid gap-1 columns-2 ms-auto" data-v-6fe9f18e><button class="btn btn-accent-dk rounded-0" data-v-6fe9f18e> Select All </button><button class="btn btn-danger rounded-0 text-white" data-v-6fe9f18e> Clear All </button></div></div>',1);function i(e,t,l,i,d,u){return(0,a.openBlock)(),(0,a.createElementBlock)("div",(0,a.normalizeProps)((0,a.guardReactiveProps)(e.$attrs)),[e.connection.results?((0,a.openBlock)(),(0,a.createElementBlock)("div",n,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.connection.results.items,(t=>((0,a.openBlock)(),(0,a.createElementBlock)("button",{class:(0,a.normalizeClass)(["d-flex position-relative thumbnail active btn btn-primary-md p-0",{selected:e.selections.includes(t.ID)}]),onClick:l=>e.selections=t.ID},[(0,a.createElementVNode)("img",{src:t.url,class:"img-fluid m-auto",style:{height:"100px","object-fit":"cover"}},null,8,o),e.selections.includes(t.ID)?((0,a.openBlock)(),(0,a.createElementBlock)("i",s)):(0,a.createCommentVNode)("",!0)],10,c)))),256))])):(0,a.createCommentVNode)("",!0),r],16)}var d=l(4636),u=l(3225);let f={model:"images",action:"read",resource:{post_type:"attachment",post_mime_type:"image",post_status:"inherit",posts_per_page:15},fields:{items:{url:{size:"medium"},ID:""}}},p=(e,{emit:t})=>{let l=(0,a.computed)((()=>{let t=t=>e.selected==t&&e.clearable?null:t,l=t=>{let l=e.selected??[];return l=Array.isArray(l)?l:[],d.F.utils.array.toggleValue(l,t)};return e.multiple?l:t})),n=(0,a.computed)({get:()=>Array.isArray(e.selected)?e.selected:[e.selected],set:e=>t("update:selected",l.value(e))}),c=(0,u.c)(f);return c.load(),{selections:n,connection:c}},m={clearable:{type:Boolean,default:!1},selected:{type:[Array,Number,null],default:null},multiple:{type:Boolean,default:!1}};var v={setup:p,props:m},b=l(3744);const y=(0,b.Z)(v,[["render",i],["__scopeId","data-v-6fe9f18e"]]);var g=y}}]);
//# sourceMappingURL=880.f7100d73.js.map