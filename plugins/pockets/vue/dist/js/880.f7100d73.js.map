{"version":3,"file":"js/880.f7100d73.js","mappings":"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","sources":["webpack://test/./src/pockets/connection/component/base.ts","webpack://test/./node_modules/vue-loader/dist/exportHelper.js","webpack://test/./src/components/UX/wp-media/index.vue?b8f0","webpack://test/./src/components/UX/wp-media/index.vue?2d4e","webpack://test/./src/components/UX/wp-media/index.vue"],"sourcesContent":["import type { crudConnection, crudConnectionApi } from \"@/pockets/connection/types\"\r\nimport { reactive, PropType } from 'vue'\r\nimport { $pockets } from \"@/pockets\"\r\n\r\nexport let props = {\r\n    model: {\r\n        default: \"posts\",\r\n        type: String as PropType<crudConnection['model']>\r\n    },\r\n    resource: {\r\n        default: {\r\n            post_type: \"post\"\r\n        },\r\n        type: [Object, Array] as PropType<crudConnection['resource']>\r\n    },\r\n    action: {\r\n        type: String as PropType<crudConnection['action']>,\r\n        default:\"read\"\r\n    },\r\n    fields: {\r\n        type: [Object, Array] as PropType<crudConnection['fields']>,\r\n        default: {\r\n            items: ['title']\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport let setup = (props: crudConnection) => {\r\n\r\n    let { model, resource, fields, action } = props\r\n\r\n    let load = async() => {\r\n        connection.loading = true\r\n        connection.failed = false\r\n        try {\r\n            let fn = $pockets.crud(model).init(resource)[action]\r\n            if(typeof fn !='function') {\r\n                throw new Error(\"Must define a valid action\")\r\n            }\r\n            connection.results = await fn(fields) \r\n        } catch(e) {\r\n            connection.failed = e\r\n        }\r\n        connection.loading = false\r\n    }\r\n    \r\n    let connection:crudConnectionApi = reactive( {\r\n        results: null,\r\n        loading: false,\r\n        failed: false,\r\n        load\r\n    } ) \r\n\r\n    return connection\r\n\r\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, normalizeProps as _normalizeProps, guardReactiveProps as _guardReactiveProps, createStaticVNode as _createStaticVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-6fe9f18e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"grid columns-5 gap-1\"\n}\nconst _hoisted_2 = [\"onClick\"]\nconst _hoisted_3 = [\"src\"]\nconst _hoisted_4 = {\n  key: 0,\n  class: \"fa fa-check selected-icon position-absolute end-0 bottom-0 icon bg-accent-dk text-white\"\n}\nconst _hoisted_5 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"d-flex mt-1\\\" data-v-6fe9f18e><div class=\\\"grid gap-1 columns-3\\\" data-v-6fe9f18e><button class=\\\"fa fa-chevron-left\\\" data-v-6fe9f18e></button></div><div class=\\\"grid gap-1 columns-2 ms-auto\\\" data-v-6fe9f18e><button class=\\\"btn btn-accent-dk rounded-0\\\" data-v-6fe9f18e> Select All </button><button class=\\\"btn btn-danger rounded-0 text-white\\\" data-v-6fe9f18e> Clear All </button></div></div>\", 1)\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _normalizeProps(_guardReactiveProps(_ctx.$attrs)), [\n    (_ctx.connection.results)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.connection.results.items, (result) => {\n            return (_openBlock(), _createElementBlock(\"button\", {\n              class: _normalizeClass([\"d-flex position-relative thumbnail active btn btn-primary-md p-0\", { selected: _ctx.selections.includes(result.ID) }]),\n              onClick: ($event: any) => (_ctx.selections = result.ID)\n            }, [\n              _createElementVNode(\"img\", {\n                src: result.url,\n                class: \"img-fluid m-auto\",\n                style: {\"height\":\"100px\",\"object-fit\":\"cover\"}\n              }, null, 8, _hoisted_3),\n              (_ctx.selections.includes(result.ID))\n                ? (_openBlock(), _createElementBlock(\"i\", _hoisted_4))\n                : _createCommentVNode(\"\", true)\n            ], 10, _hoisted_2))\n          }), 256))\n        ]))\n      : _createCommentVNode(\"\", true),\n    _hoisted_5\n  ], 16))\n}","\r\n// @ts-nocheck\r\nimport { $pockets } from \"@/pockets\"\r\nimport { computed } from \"vue\"\r\nimport { setup as setupConnection } from \"@/pockets/connection/component/base\"\r\nlet query = {\r\n    model: \"images\",\r\n    action: \"read\",\r\n    resource: {\r\n        post_type: \"attachment\",\r\n        post_mime_type: 'image',\r\n        post_status:  'inherit',\r\n        posts_per_page: 15\r\n    },\r\n    fields: {\r\n        items: {\r\n            url: {\r\n                size: \"medium\"\r\n            },\r\n            ID: \"\"\r\n        }\r\n    }\r\n}\r\n \r\nlet setup = (props, { emit }) => {\r\n    let select = computed(() => {\r\n        let single = (ID:number) => {\r\n            if(props.selected == ID && props.clearable) return null\r\n            return ID\r\n        }\r\n        let multiple = (ID:number) => {\r\n            let selected = props.selected ?? []\r\n            selected = Array.isArray(selected) ? selected : []\r\n            return $pockets.utils.array.toggleValue(selected, ID)\r\n        }\r\n        return props.multiple ? multiple : single\r\n    })\r\n    let selections = computed({\r\n        get: () => Array.isArray(props.selected) ? props.selected : [ props.selected ],\r\n        set: (ID) => emit(\"update:selected\", select.value(ID) )\r\n    })\r\n\r\n    let connection = setupConnection(query)\r\n    connection.load()\r\n\r\n    return {\r\n        selections,\r\n        connection\r\n    }\r\n    \r\n}\r\n\r\nlet props = {\r\n    clearable: {\r\n        type: Boolean,\r\n        default: false\r\n    },\r\n    selected: {\r\n        type: [Array, Number, null],\r\n        default: null\r\n    },\r\n    multiple: {\r\n        type: Boolean,\r\n        default: false\r\n    }\r\n}\r\nexport default {\r\n    setup,\r\n    props\r\n}\r\n","import { render } from \"./index.vue?vue&type=template&id=6fe9f18e&scoped=true&ts=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=6fe9f18e&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\Justin\\\\Documents\\\\Workspace\\\\xampp\\\\apps\\\\pockets\\\\htdocs\\\\wp-content\\\\plugins\\\\pockets\\\\vue\\\\dev\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6fe9f18e\"]])\n\nexport default __exports__"],"names":["props","model","default","type","String","resource","post_type","Object","Array","action","fields","items","setup","load","async","connection","loading","failed","fn","$pockets","init","Error","results","e","reactive","exports","sfc","target","__vccOpts","key","val","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createStaticVNode","render","_ctx","_cache","$props","$setup","$data","$options","_openBlock","_createElementBlock","_normalizeProps","_guardReactiveProps","$attrs","_Fragment","_renderList","result","_normalizeClass","selected","selections","includes","ID","onClick","$event","_createElementVNode","src","url","style","_createCommentVNode","query","post_mime_type","post_status","posts_per_page","size","emit","select","computed","single","clearable","multiple","isArray","get","set","value","setupConnection","Boolean","Number","__exports__"],"sourceRoot":""}